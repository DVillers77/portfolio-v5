/* ================================================= */
/* === 1. GLOBAL ENGINE: Reset & Variables       === */
/* ================================================= */
html {
  -webkit-text-size-adjust: 100%;
  -moz-text-size-adjust: 100%;
  text-size-adjust: 100%;
}
/* The "Stability" Reset */
*,
*::before,
*::after {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
}

:root {
  /* --- 1. BRAND CHANNELS (Raw Ingredients) --- */
  --sys-color-primary-rgb: 1, 98, 75;
  --sys-color-accent-rgb: 255, 0, 255; /* Magenta */
  --sys-color-surface-rgb: 255, 255, 255;
  --sys-color-on-surface-rgb: 51, 51, 51; /* Charcoal #333333 */

  /* --- 2. SEMANTIC ROLES --- */
  --sys-color-primary: rgb(var(--sys-color-primary-rgb));
  --sys-color-accent: rgb(var(--sys-color-accent-rgb));
  --sys-color-surface: rgb(var(--sys-color-surface-rgb));
  --sys-color-surface-variant: #f0f7f5;

  /* Tonal Containers */
  --sys-color-primary-container: rgba(var(--sys-color-primary-rgb), 0.12);
  --sys-color-on-primary-container: var(--sys-color-primary);

  /* Typography Hierarchy */
  --sys-color-on-surface: rgb(var(--sys-color-on-surface-rgb));
  --sys-color-on-surface-emphasis: #0a0a0a;
  --sys-color-on-primary: var(--sys-color-surface);

  /* Interaction & UI */
  --sys-color-outline: #555555;
  --sys-color-focus-halo: rgba(var(--sys-color-primary-rgb), 0.4);
  --sys-color-error: #b00020;

  /* --- 3. DEPTH & EFFECTS --- */
  --sys-shadow-navbar-accent: inset 0 -4px 6px -4px var(--sys-color-accent);

  --glow-primary: 0 0 0.3125rem var(--sys-color-primary);
  --glow-accent-strong: 0 0 10px 0 var(--sys-color-accent);
  --glow-accent-subtle: 0 0 10px 0 rgba(var(--sys-color-accent-rgb), 0.4);

  --sys-glow-accent-inset: inset 0 0 10px 0
    rgba(var(--sys-color-accent-rgb), 0.4);
  --sys-glow-primary-inset: inset 0 0 0.3125rem var(--sys-color-primary);

  --shadow-subtle: 0 0.25rem 0.5rem rgba(0, 0, 0, 0.2);
  --shadow-modal: 0 4px 8px 0 rgba(0, 0, 0, 0.2),
    0 6px 20px 0 rgba(0, 0, 0, 0.19);

  /* --- FLUID GRADIENT CONTROL --- */
  --nav-gradient-stop: 45vw;
  --navbar-shelf-height: 15px;

  /* --- GLOBAL FONTS --- */
  --font-display: "Poppins", sans-serif;
  --font-body: "Inter", sans-serif;
  font-size: 16px;
  --font-size-base: 1rem;
}

/* ================================================= */
/* === [V3] GLOBAL LAYOUT & ATMOSPHERE (UPDATED) === */
/* ================================================= */

body::before {
  content: "";
  position: fixed;
  top: 0;
  left: 0;
  width: 100vw;
  height: 100vh;
  z-index: -1;
  background-image: radial-gradient(
    circle at 50% 30%,
    var(--sys-color-primary) 0,
    var(--sys-color-primary) var(--nav-gradient-stop),
    var(--sys-color-surface-variant) 85%
  );
  background-repeat: no-repeat;
  background-size: cover;
  transition: background-image 0.3s ease; /* Smooth transition when resizing */
}

/* For smaller screens, update the gradient stop to provide a minimum size 
   for the solid color area, preventing it from becoming too small. */
@media screen and (max-width: 809px) {
  :root {
    --nav-gradient-stop: calc(180px + 15vw);
  }
}
/* The 'Spine' of the site */
.container {
  max-width: 1200px;
  margin: 0 auto;
  padding: 0 1.25rem;
  width: 100%;
}

/* ================================================= */
/* === 2. NAVBAR: The "Chrome Tab" Architecture  === */
/* ================================================= */

.navbar {
  background-color: var(--sys-color-on-surface); /* Charcoal stays */
  display: flex;
  align-items: center;
  position: sticky;
  top: 0;
  z-index: 1000;
  box-shadow: var(--sys-shadow-navbar-accent); /* Violet line stays */
}

.navbar::after {
  content: "";
  position: absolute;
  top: 100%;
  left: 0;
  width: 100%;
  height: var(--navbar-shelf-height);

  /* This creates a solid block for the first 12px, 
     then fades out over the last 6px */
  background: linear-gradient(
    to bottom,
    var(--sys-color-primary) 0%,
    var(--sys-color-primary) 12px,
    transparent 100%
  );

  z-index: -1;
  pointer-events: none;
}

/* 1. THE TOGGLE (Hamburger - HIDDEN BY DEFAULT) */
.navbar__toggle {
  display: none;
  float: right;
  color: var(--sys-color-accent);
  padding: 14px 24px; /* Matches the vertical height of desktop links */
  font-size: 1.5rem;
  cursor: pointer;
  text-decoration: none;
  position: relative; /* Necessary for the magenta underline */
  transition: background-color 0.2s ease, color 0.2s ease;
}

/* Mimic the Desktop Navlink Hover */
.navbar__toggle:hover {
  background-color: #444; /* Charcoal shift */
  color: var(--sys-color-surface); /* Shifts icon to white for contrast */
}

/* The Magenta Line mimic */
.navbar__toggle:hover::after {
  content: "";
  position: absolute;
  bottom: 0;
  left: 0;
  width: 100%;
  border-bottom: 3px solid var(--sys-color-accent); /* Magenta Signal */
}

/* 2. THE LINKS CONTAINER (Pushed to the Right) */
.navbar__links {
  display: flex;
  justify-content: flex-end; /* RIGHT ALIGNED */
  width: 100%;
  padding-right: 20px; /* Room for the bracket */
}

/* Base Link Style: The "Hit-Box" */
.navbar__link {
  font-family: var(--font-body);
  /* Use clamp for fluid typography: 
     Min: 14px, Preferred: 1.1vw, Max: 17px */
  font-size: clamp(14px, 1.1vw, 17px);
  /* Reduce horizontal padding on tablets to keep the bar narrow */
  padding: 14px clamp(12px, 1.5vw, 24px);
  font-weight: 400;
  color: var(--sys-color-surface);
  text-decoration: none;

  /* RESTORED: Padding creates the clickable area and tab width */
  padding: 14px 24px;
  display: inline-block; /* Essential for the bracket positioning */
  transition: all 0.2s ease;
  position: relative;
}

/* THE HOVER: Tonal shift + Magenta Pathway */
.navbar__link:hover:not(.active) {
  background-color: #444;
}

.navbar__link:hover:not(.active)::after {
  content: "";
  position: absolute;
  bottom: 0;
  left: 0;
  width: 100%;
  border-bottom: 3px solid var(--sys-color-accent); /* Magenta Signal */
}

/* THE ACTIVE TAB: The 'Bridge' */
.navbar__link.active {
  background-color: var(--sys-color-primary); /* Dark Pine */
  color: white;
  border-radius: 12px 12px 0 0;
  z-index: 1001;
  /* This margin-bottom pulls the tab down to cover the rail */
  margin-bottom: -3px;

  /* UX ADDITION: Remove interactivity from current page tab */
  cursor: default;
  pointer-events: none;
}

/* THE BRACKETS: Fixed Positioning */
.navbar__link.active::before,
.navbar__link.active::after {
  content: "";
  position: absolute;
  bottom: 0;
  width: 20px;
  height: 20px;
  background-color: transparent;
  box-shadow: 0 10px 0 0 var(--sys-color-primary);
  pointer-events: none; /* Prevents brackets from being clickable */
}

.navbar__link.active::before {
  left: -19px;
  border-bottom-right-radius: 19px;
}

.navbar__link.active::after {
  right: -19px;
  border-bottom-left-radius: 19px;
}

/* 6. RESPONSIVE ENGINE (Breakpoint: 768px) */
@media screen and (max-width: 768px) {
  .navbar {
    flex-direction: column;
    align-items: flex-start;
  }

  .navbar__toggle {
    display: block; /* Hamburger only appears on Mobile */
  }

  .navbar__links {
    display: none; /* Links hidden until toggled */
    flex-direction: column;
    justify-content: flex-start;
    padding-right: 0;
  }

  /* State triggered by toggleMobileNav() in script.js */
  .navbar.responsive .navbar__links {
    display: flex;
    width: 100%;
  }

  .navbar__link {
    width: 100%;
    margin-bottom: 0;
    border-radius: 0;
  }

  .navbar__link.active {
    /* Restore pointer-events for mobile menu accessibility if needed, 
       otherwise keep none to prevent refresh */
    pointer-events: none;
  }

  .navbar__link.active::before,
  .navbar__link.active::after {
    display: none; /* Brackets disabled for vertical stack */
  }
}

/* ================================================= */
/* === [V3] REFACTORED: FEATURE BLOCK (ZIG-ZAG)  === */
/* ================================================= */

/* --- 1. THE BLOCK (Container) --- */
.feature-block {
  background-color: var(--sys-color-surface);
  padding: 4rem 1.25rem;
  margin-bottom: 18px; /* Tighter 18px Gutter Splash */
  width: 100%;
}

/* Modifiers for Block */
.feature-block--first {
  margin-top: 18px;
  border-radius: 2rem 2rem 0 0; /* Rounded shoulders */
}

.feature-block--alt {
  background-color: var(
    --sys-color-surface-variant
  ) !important; /* Force Light Pine */
}

/* --- 2. THE GRID (Flex Layout) --- */
.feature-block__grid {
  display: flex;
  flex-direction: column; /* Mobile stack by default */
  gap: 2rem;
  max-width: 1200px;
  margin: 0 auto;
  align-items: center;
}

/* --- 3. MEDIA (Image Styling) --- */
/* --- UNIFIED MEDIA STYLING --- */
.feature-block__image {
  width: 100%;
  max-width: 500px; /* Limits size on desktop */
  aspect-ratio: 1 / 1; /* Forces the 1:1 ratio */
  object-fit: cover; /* Ensures image fills the square without stretching */
  border-radius: 8px;
  box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3),
    /* 1. Dark "lift" shadow */ 0 0 20px rgba(255, 0, 255, 0.5); /* 2. Vibrant "glow" (increased to 50%) */
  display: block;
  margin: 0 auto; /* Centers image if it's smaller than the container */
}

/* --- 4. CONTENT (Text & Typography) --- */
.feature-block__content {
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
}

.feature-block__title--column {
  font-size: 1.8rem;
  max-width: 26ch;
  color: var(--sys-color-on-surface);
  margin-bottom: 2rem;
  font-family: "Poppins", sans-serif;
  line-height: 1.3;
  text-align: center;
}

.feature-block__intro-text {
  font-family: var(--font-body);
  font-size: 1.125rem;
  line-height: 1.6;
  max-width: 45ch;
  margin-bottom: 1.5rem;
}

.feature-block__jump-link {
  font-size: 1.25rem;
  color: var(--sys-color-primary);
  margin-bottom: 1rem;
}

/* --- 5. QUOTES & AUTHORS --- */
.feature-block__quote-container {
  width: 400px;
  max-width: 100%;
}

.feature-block__quote-box {
  background-color: var(--sys-color-surface-variant);
  padding: 1.5rem;
  border-left: 2px solid var(--sys-color-accent);
  border-radius: 8px;
  font-size: 1.125rem;
  font-style: italic;
  width: 100%;
  text-align: center;
}

.feature-block__quote-box--on-alt {
  background-color: var(--sys-color-surface) !important;
  border-left: none !important;
  border-right: 2px solid var(--sys-color-accent);
}

.feature-block__author {
  text-align: right;
  margin-top: 1rem;
  font-size: 1rem;
  color: var(--sys-color-primary);
  width: 100%;
}

/* --- 6. RESPONSIVE ENGINE --- */

/* UNIFIED MOBILE STACKING (1024px and below) */
@media screen and (max-width: 1024px) {
  .feature-block__grid,
  .feature-block__grid--reverse {
    flex-direction: column;
    align-items: center; /* Ensures content is centered in the column */
  }

  /* Allow content children to be ordered by the grid */
  .feature-block__content {
    display: contents;
  }

  /* Enforce strict stacking order */
  .feature-block__title--column {
    order: 1;
  }
  .feature-block__image,
  .feature-block__quote-container {
    order: 2;
  }
  .feature-block__intro-text {
    order: 3;
  }
  .button-group {
    order: 4;
  }
}

/* Desktop Pivot (1025px+) */
@media screen and (min-width: 1025px) {
  .feature-block__grid {
    flex-direction: row;
    justify-content: center;
    gap: 5rem;
  }

  .feature-block__grid--reverse {
    flex-direction: row-reverse;
  }

  /* On desktop, restore the content block's own flex context */
  .feature-block__content {
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
  }
}

/* Mobile Adjustments (600px-) */
@media screen and (max-width: 600px) {
  .feature-block__image {
    width: 100%;
  }
}

/* ================================================= */
/* === [V3] GLOBAL LAYOUT & WRAPPERS             === */
/* ================================================= */

/* 1. HERO COMPONENT */
.hero {
  display: flex;
  justify-content: center;
  align-items: center;
  min-height: 40vh;
  padding: 5rem 1.25rem 2rem 1.25rem;
  text-align: center;
}

.hero__content {
  position: relative; /* Secondary anchor */
  max-width: 65ch; /* Optimized for readability */
  margin: 0 auto;
}

.hero__title {
  font-family: var(--font-display);
  font-size: 3.25rem;
  color: var(--sys-color-on-primary);
  margin-bottom: 1rem;
  line-height: 1.1;
  font-weight: 700;
}

.hero__subtitle {
  font-family: var(--font-body);
  font-size: 1.25rem;
  color: var(--sys-color-on-primary);
  max-width: 65ch; /* Restoring the readability limit */
  line-height: 1.5;
  margin-left: auto; /* Centering within the flex container */
  margin-right: auto;
  text-align: center;
  margin-bottom: 3rem;
}

/* 2. ACCESSIBILITY */
.sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border: 0;
}

/* ================================================= */
/* === [V4] REFACTORED: SLIDESHOW SYSTEM (BEM)   === */
/* ================================================= */

.slideshow {
  position: relative;
  width: 100%;
  max-width: 500px; /* Restores your standardized desktop width */
  margin: 0 auto;
  display: flex; /* Use flexbox for clean vertical stacking on mobile */
  flex-direction: column;
  align-items: center;
}

/* THE NEW ANCHOR */
.slideshow__positioner {
  position: relative;
  width: 100%;
  max-width: 500px;
}

/* 2. THE VIEWPORT: Forces the 500x500 standard */
.slideshow__viewport {
  position: relative; /* BECOMES THE ANCHOR for the controls */
  width: 100%;
  aspect-ratio: 1 / 1; /* Keeps it square */
  /* overflow: hidden; */ /* MOVED to the slide itself to unclip buttons */
  border-radius: 8px;
  background-color: #000;
  box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3),
    /* 1. Dark "lift" shadow */ 0 0 20px rgba(255, 0, 255, 0.5); /* 2. Vibrant "glow" (increased to 50%) */
  margin-bottom: 1.5rem;
}

.slideshow__slide {
  width: 100%;
  height: 100%;
  display: none;
  overflow: hidden; /* CLIPS the image content, not the controls */
  border-radius: 8px;
}

.slideshow__slide--active {
  display: block;
}

.slideshow__image {
  width: 100%;
  height: 100%;
  object-fit: cover;
  display: block;
}

/* --- 3. THE CONTROLS: Fluid & Universal --- */
.slideshow__control {
  position: absolute;
  /* 50% of the WIDTH of a square is the vertical center */
  top: 50%;
  transform: translateY(-50%);
  z-index: 20;
  width: 54px;
  height: 54px;
  background-color: rgba(0, 0, 0, 0.5);
  color: white;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 1.5rem;
  transition: all 0.2s ease;
  cursor: pointer;
}

/* Base position: Safe inside the image area */
.slideshow__control--prev {
  left: -27px;
}
.slideshow__control--next {
  right: -27px;
}

.slideshow__control:hover {
  background-color: #444;
  color: var(--sys-color-accent);
}

.slideshow__control:active {
  transform: translateY(-50%) scale(0.85);
  background-color: var(--sys-color-accent);
}

/* 4. THE PILL: Styling moved from ID to BEM Class */
.slideshow__pill {
  margin-bottom: 1.5rem;
  z-index: 20;
}

.slideshow__pill-link {
  display: inline-block;
  background-color: var(--sys-color-primary);
  color: white;
  padding: 0.8rem 1.6rem;
  border-radius: 100px;
  text-decoration: none;
  box-shadow: 0 8px 20px rgba(0, 0, 0, 0.4);
  /* Restored your specific transition */
  transition: all 300ms ease;
}

/* Restored your specific hover effects */
.slideshow__pill-link:hover {
  background-color: #444;
  transform: translateY(-4px);
  box-shadow: 0 12px 24px rgba(var(--sys-color-accent-rgb), 0.4);
}

/* 5. THE DOTS */
.slideshow__dots {
  display: flex;
  justify-content: center; /* THIS CENTERS THE DOTS GLOBALLY */
  gap: 12px;
  align-items: center;
  margin-bottom: 5rem;
  padding: 0;
  list-style: none;
}

.slideshow__dot {
  width: 8px;
  height: 8px;
  background-color: rgba(255, 255, 255, 0.4);
  border-radius: 50%;
  cursor: pointer;
  transition: all 0.3s ease;
}

.slideshow__dot.active {
  background-color: var(--sys-color-accent);
  width: 24px;
  border-radius: 10px;
}

/* ================================================= */
/* === [V3] REFACTORED: BUTTONS (MUSCLE PASS)    === */
/* ================================================= */

/* 1. THE BLOCK (Base Style & Muscle) */
.button {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  padding: 0.9rem 1.8rem;
  border-radius: 0.5rem;
  font-family: var(--font-body);
  font-weight: 600;
  font-size: 1.1rem;
  text-decoration: none;
  border: none;
  cursor: pointer;
  gap: 10px;

  /* 300ms transition to reduce "noise" */
  transition: all 300ms cubic-bezier(0.4, 0, 0.2, 1);
}

/* 2. MODIFIER: PRIMARY */
.button--primary {
  background-color: var(--sys-color-primary);
  color: var(--sys-color-on-primary);
}

.button--primary:hover:not(:disabled) {
  transform: translateY(-3px);
  box-shadow: 0 6px 15px rgba(var(--sys-color-accent-rgb), 0.4);
}

/* 3. MODIFIER: TONAL */
.button--tonal {
  background-color: var(--sys-color-primary-container);
  color: var(--sys-color-on-primary-container);
}

.button--tonal:hover:not(:disabled) {
  transform: translateY(-3px);
  background-color: rgba(var(--sys-color-primary-rgb), 0.18);
  box-shadow: 0 4px 10px rgba(0, 0, 0, 0.15); /* Grey Shadow */
}

/* 4. THE MOBILE SOLUTION: ACTIVE STATE */
.button:active:not(:disabled) {
  transform: translateY(1px) scale(0.98);
  box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.2);
  filter: brightness(0.9);
}

/* 5. THE BUTTON GROUP (Layout Wrapper) - KEEPING FROM BONES */
.button-group {
  margin-top: 2rem;
  display: flex;
  justify-content: center;
  gap: 1rem;
  flex-wrap: wrap;
}

/* RESPONSIVE: Stack buttons on small screens - KEEPING FROM BONES */
@media screen and (max-width: 600px) {
  .button-group {
    flex-direction: column;
    align-items: stretch;
  }

  .button-group .button {
    width: 100%;
  }
}

/* ================================================= */
/* === [V3] REFACTORED: CONTACT MODAL & FORM      === */
/* ================================================= */

/* 1. THE OVERLAY (Dark Shadow) */
.contact-modal {
  display: flex;
  align-items: center;
  justify-content: center;
  position: fixed;
  z-index: 2000;
  left: 0;
  top: 0;
  width: 100%;
  height: 100%;
  background-color: rgba(0, 0, 0, 0.7);
  overflow-y: auto;
}

/* 2. THE CONTENT CARD (Outer Shell) */
.contact-modal__content {
  position: relative;
  background-color: var(--sys-color-surface);
  padding: 1.5rem; /* Reduced padding to let the inner form shine */
  border-radius: 0.8rem;
  border: 1px solid var(--sys-color-outline);
  width: 90%;
  max-width: 500px;
  box-shadow: var(--shadow-modal);
  animation: modal-open-anim 0.4s ease-out;
}

/* 3. THE INNER FORM (Pine Green Backdrop) */
.contact-modal__form {
  border-radius: 0.3125rem;
  background-color: var(--sys-color-surface-variant); /* YOUR PINE BACKDROP */
  padding: 1.5rem;
  /* Restoring the subtle violet accent glow to the form container */
  box-shadow: var(--shadow-subtle), var(--glow-accent-subtle);
}

.contact-modal__form h2 {
  max-width: 100%;
  text-align: center;
  margin-bottom: 1.2rem;
  color: white; /* Contrast against the Pine background */
}

/* 4. BRANDED INPUTS (Green Border + Violet Glow) */
.contact-modal__form input[type="text"],
.contact-modal__form input[type="email"],
.contact-modal__form textarea {
  width: 100%;
  padding: 0.75rem;
  border: 1px solid var(--sys-color-primary); /* PINE BORDER */
  border-radius: 0.5rem;
  margin-top: 0.375rem;
  margin-bottom: 1rem;
  font-family: inherit;
  font-size: 1rem;
  background-color: var(--sys-color-surface);
  box-sizing: border-box;
  transition: all 0.2s ease;
}

/* FOCUS STATE: Magenta Energy Glow */
.contact-modal__form input:focus,
.contact-modal__form textarea:focus {
  border-color: var(--sys-color-accent); /* MAGENTA BORDER */
  box-shadow: var(--glow-accent-subtle); /* VIOLET GLOW */
  outline: none;
}

/* 5. THE SUBMIT BUTTON & DISABLED STATE */
.contact-modal__button--submit {
  width: 100%;
  margin-top: 1rem;
}

/* Restoring your specific hover glow for the submit button */
.contact-modal__form .contact-modal__button--submit:hover:not(:disabled) {
  box-shadow: var(--glow-accent-strong-inset), var(--glow-accent-subtle);
}

/* THE PRO DISABLED STATE: Restored */
.contact-modal__button--submit:disabled {
  opacity: 0.45;
  cursor: not-allowed;
  pointer-events: none;
  filter: grayscale(0.4);
  transform: none;
}

/* 6. CLOSE ICON (With your requested rotation) */
.contact-modal__close-icon {
  position: absolute;
  top: 5px;
  right: 5px;
  background: none;
  border: none;
  font-size: 22px;
  color: var(--sys-color-on-surface);
  cursor: pointer;
  padding: 5px;
  transition: color 0.2s ease, transform 0.3s ease;
  z-index: 10;
}

.contact-modal__close-icon:hover {
  color: var(--sys-color-accent);
  transform: rotate(90deg);
}

/* ================================================= */
/* === [V3] TABLET TRANSITION (1070px to 769px)   === */
/* ================================================= */
@media screen and (max-width: 1070px) and (min-width: 810px) {
  .navbar__links {
    /* Constrain the menu and center it to pull brackets from the edge */
    max-width: 800px;
    margin: 0 auto;
    justify-content: center;
    padding-right: 0;
  }

  .hero__title {
    font-size: 2.75rem; /* Slightly smaller for tablet */
  }

  .feature-block__grid {
    gap: 3rem; /* Tighten up the gutters */
  }
}

/* ================================================= */
/* === [V18] GRID ARCHITECTURAL RESET (809px)    === */
/* ================================================= */

@media screen and (max-width: 809px) {
  /* --- 1. NAVBAR MOBILE --- */
  .navbar {
    display: flex;
    flex-direction: column;
    align-items: flex-start;
  }
  .navbar__toggle {
    display: block;
    padding: 1rem;
  }
  .navbar__links {
    display: none;
    flex-direction: column;
    width: 100%;
  }
  .navbar.responsive .navbar__links {
    display: flex;
  }
  .navbar__link.active::before,
  .navbar__link.active::after {
    display: none;
  }

  /* --- 2. SLIDESHOW MOBILE --- */
  /* The global styles now correctly handle centering. 
     We only need to adjust the 'straddle' amount for the smaller screen. */
  .slideshow__control--prev {
    left: -18px; /* Pulled in slightly for mobile */
  }
  .slideshow__control--next {
    right: -18px; /* Pulled in slightly for mobile */
  }

  /* Centering the dots for mobile */
  .slideshow__dots {
    justify-content: center;
    margin-bottom: 2rem;
  }


}

@media screen and (max-width: 1024px) {
  /* Ensure the grid container is a column for all mobile/tablet sizes */
  .feature-block__grid, 
  .feature-block__grid--reverse {
    display: flex !important;
    flex-direction: column !important;
    align-items: center !important;
  }

  /* 1. TITLE FIRST */
  .feature-block__title--column {
    order: 1 !important; 
    text-align: center;
  }

  /* 2. IMAGE SECOND */
  .feature-block__media {
    order: 2 !important;
    margin-bottom: 1.5rem;
  }

  /* 3. TEXT THIRD */
  .feature-block__intro-text {
    order: 3 !important;
    text-align: center;
  }

  /* 4. BUTTONS LAST */
  .button-group {
    order: 4 !important;
    justify-content: center;
  }
}